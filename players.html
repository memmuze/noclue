<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="robots" content="index, follow" />
    <meta name="googlebot-news" content="noindex" />
    <meta name="googlebot" content="index" />
    <meta name="bingbot" content="index" />
    <meta name="duckduckbot" content="index" />
    <meta name="baiduspider" content="index" />
    <meta name="yandexbot" content="index" />
    <meta name="googlebot" content="follow" />
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6864262569282942"
      crossorigin="anonymous"
    ></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fuggles&family=Nunito+Sans:opsz,wght@6..12,400;6..12,800;6..12,1000&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="favicon.png" />
    <title>NoClue | Players</title>

    <style>
      .material-symbols-outlined {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
      }

      .aktiv {
        color: rgb(216, 34, 26);
        font-variation-settings: "wght" 800, "FILL" 1;
      }

      .tiltott {
        color: rgb(170, 168, 168);
        cursor: not-allowed;
      }
      @media all and (min-width: 600px) {
        .hirdetes {
          display: none;
        }
      }
    </style>
    <meta name="application-name" content="NoClue!" />
    <meta name="author" content="Memmuze Team" />
    <meta
      name="description"
      content="Unlock the secrets to victory in the classic board game, Clue(do). NoClue! offers you an user-friendly way to find all the necessary clues for a spot-on accusation. Explore educational insights, and a sleek design to enhance your gameplay. Discover the winning moves – start your journey to Clue(do) mastery today!"
    />
    <meta
      name="keywords"
      content="Clue strategy, Clue winning strategy, Clue
    win, Clue solver, Clue program, Clue algorythm, Clue solve, Clue, board
    game, board game tips,  Clue solution, Clue how to win, Clue calculator,
    Clue sheet, Clue guide, Clue card, Clue wikihow Cluedo strategy, Cluedo
    winning strategy, Cluedo win, Cluedo solver, Cluedo program, Cluedo
    algorythm, Cluedo solve, Cluedo, board game, board game tips, Cluedo
    solution, Cluedo how to win, Cluedo calculator, Cluedo sheet, Cluedo guide,
    Cluedo card, Cluedo wikihow"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        checkLocalStorageForIcons();
      });

      function checkLocalStorageForIcons() {
        var jatekosok2 = localStorage.getItem("jatekosok");

        // Check if jatekosok2 array is empty or not
        if (!jatekosok2 || jatekosok2.trim() === "") {
          // Array is empty, add "tiltott" class to icons
          addTiltottClassToIcons();
        }
        var alapadat = localStorage.getItem("AlapYOU");
        if (alapadat || alapadat !== null) {
          var ownClueIteam = document.getElementById("ownClueIteam");
          ownClueIteam.classList.add("tiltott");
        }
        if (alapadat == null) {
          addTiltottClassToIcons();
        }
        var medence = localStorage.getItem("AlapPOOL");
        var medenceszam = localStorage.getItem("Poolcardcount");
        if (medenceszam !== "0" && medence == null) {
          ovtilt();
        }
      }

      function addTiltottClassToIcons() {
        // Get icon elements and add the "tiltott" class
        var newClueItem = document.getElementById("newClueItem");
        var overviewItem = document.getElementById("overviewItem");

        newClueItem.classList.add("tiltott");
        overviewItem.classList.add("tiltott");
      }

      function ovtilt() {
        var overviewItem = document.getElementById("overviewItem");
        overviewItem.classList.add("tiltott");
      }
    </script>
  </head>
  <body>
    <div class="container">
      <div class="topbar">
        <a href="index.html"><img src="nclogo.png" /></a>
      </div>
      <div class="content">
        <article>
          <h1>Add players</h1>
        </article>
        <form>
          <label
            ><h3>Number of players: <span id="sliderValue">3</span></h3>
            <input
              type="range"
              min="3"
              max="6"
              value="3"
              oninput="updateSliderValue()"
              id="slider"
              class="slider"
            />
          </label>
          <div id="textInputContainer">
            <!-- Text input boxes and radio buttons in a table -->
            <table>
              <tr>
                <th>Player names</th>
                <th>Playing as You</th>
              </tr>
            </table>
          </div>
        </form>
        <span
          onclick="megmutat()"
          class="material-symbols-outlined info"
          id="infogomb"
        >
          help
        </span>
        <ol class="s3">
          <li>
            <p>Adjust the number of players with the built-in slider.</p>
          </li>
          <li>
            <p>
              When entering the player names, make sure that their order matches
              the in-game order. This ensures that the assistant works in the
              correct way.
            </p>
          </li>
          <li>
            <p>
              Select who is playing as you. This is so we can assign your
              selected cards later.
            </p>
          </li>
          <li>
            <p>
              If you wish not to assign the default amount of cards to a player,
              you can adjust it here too.
            </p>
          </li>
          <p style="color: rgb(255, 230, 102); font-weight: bold">
            Beware that the amount of assigned cards cannot exeed 18. You must
            enter unique player names.
          </p>
        </ol>
      </div>

      <div class="navbar">
        <div class="box">
          <div class="item">
            <a href="index.html">
              <span class="material-symbols-outlined"> home </span>
            </a>
          </div>
        </div>
        <div class="box">
          <div class="item">
            <a href="#">
              <span class="material-symbols-outlined aktiv"> person_add </span>
            </a>
          </div>
        </div>

        <div class="box">
          <div class="item">
            <a href="newclue.html">
              <span class="material-symbols-outlined" id="newClueItem">
                library_add
              </span>
            </a>
          </div>
        </div>
        <div class="box">
          <div class="item">
            <a href="overview.html">
              <span class="material-symbols-outlined" id="overviewItem">
                analytics
              </span>
            </a>
          </div>
        </div>
        <div class="box">
          <div class="item">
            <a href="info.html">
              <span class="material-symbols-outlined"> info </span>
            </a>
          </div>
        </div>
      </div>
    </div>
    <script>
      function megmutat() {
        var szovegList = document.getElementsByClassName("s3");

        for (var i = 0; i < szovegList.length; i++) {
          var szoveg = szovegList[i];

          if (szoveg.style.display === "block" || szoveg.style.display === "") {
            szoveg.style.display = "none";
          } else {
            szoveg.style.display = "block";
          }
        }
      }
    </script>

    <script>
      var infoButton = document.querySelector(".info");

      infoButton.addEventListener("mouseover", function () {
        infoButton.style.fontVariationSettings = "'FILL' 1";
        infoButton.style.color = "white";
      });

      infoButton.addEventListener("mouseout", function () {
        infoButton.style.fontVariationSettings = "'FILL' 0";
        infoButton.style.color = "white";
      });
    </script>
    <script>
      window.onload = function () {
        var infoButton = document.querySelector(".info");

        infoButton.style.fontVariationSettings = "'FILL' 0";
        infoButton.style.color = "white";
      };
      document.addEventListener("DOMContentLoaded", function () {
        megmutat();
      });
    </script>
    <script>
      window.onload = function () {
        var infoButton = document.querySelector(".info");

        infoButton.style.fontVariationSettings = "'FILL' 0";
        infoButton.style.color = "white";
      };
      document.addEventListener("DOMContentLoaded", function () {
        megmutat();
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        updateSliderValue();
        checkLocalStorageForNewGameButton();
        megmutat();
      });

      function checkLocalStorageForNewGameButton() {
        // Check if "jatekosok" is not empty in local storage
        var submissionString = localStorage.getItem("jatekosok2");

        if (submissionString && submissionString.trim() !== "") {
          window.location.href = "owncards.html";
          // Create the "NEW GAME" button
          var newGameButton = document.createElement("input");
          newGameButton.type = "button";
          newGameButton.className = "mainaction";
          newGameButton.value = "NEXT";
          newGameButton.addEventListener("click", function () {
            // Redirect to "players.html"
            window.location.href = "owncards.html";
          });

          // Append the button to the body or another container as needed
          document.body.appendChild(newGameButton);
        } else {
          console.log(
            "No 'jatekosok' data in local storage or the string is empty."
          );
        }

        // Check if "jatekosok2" is not empty in local storage
        var submissionString2 = localStorage.getItem("jatekosok2");

        if (submissionString2 && submissionString2.trim() !== "") {
          // Hide the "Submit Data" button
          document.getElementById("submitButton").style.display = "none";
          document.getElementById("slider").disabled = true;

          // Fill text boxes and select radio button based on the stored values
          var playerData = JSON.parse(submissionString2);

          var rows = document.querySelectorAll(".row");

          rows.forEach(function (row, index) {
            var playerNameInput = row.querySelector("input[type='text']");
            var radio = row.querySelector("input[type='radio']");

            // Disable input fields
            playerNameInput.setAttribute("readonly", true);

            // Disable radio buttons
            radio.disabled = true;

            if (playerData[index] === "You") {
              // If the stored value is "You", select the radio button
              radio.checked = true;
            }

            // Fill the text box with the stored value
            playerNameInput.value = playerData[index];
          });
        }
      }

      function updateSliderValue() {
        var slider = document.getElementById("slider");
        var sliderValueDisplay = document.getElementById("sliderValue");
        sliderValueDisplay.textContent = slider.value;

        // Generate text input boxes and radio buttons based on the slider value
        var textInputContainer = document.getElementById("textInputContainer");
        textInputContainer.innerHTML = ""; // Clear previous inputs

        var table = document.createElement("table");
        table.classList.add("table");

        // Header row
        var headerRow = document.createElement("tr");
        var headerTextCol1 = document.createElement("th");
        var headerTextCol3 = document.createElement("th");
        var headerTextCol2 = document.createElement("th");
        headerTextCol1.textContent = "Player names";
        headerTextCol3.textContent = "No. of cards";
        headerTextCol2.textContent = "Playing as You";
        headerTextCol1.classList.add("player-names");
        headerTextCol3.classList.add("no-of-cards");
        headerTextCol2.classList.add("playing-as-you");
        headerRow.appendChild(headerTextCol1);
        headerRow.appendChild(headerTextCol3);
        headerRow.appendChild(headerTextCol2);
        table.appendChild(headerRow);

        // Text input boxes and radio buttons rows
        for (var i = 1; i <= parseInt(slider.value); i++) {
          var row = document.createElement("tr");
          row.classList.add("row");

          // Player Name input
          var inputCol = document.createElement("td");
          var input = document.createElement("input");
          input.type = "text";
          input.placeholder = "Player " + i;
          input.maxLength = 10;
          input.classList.add("jatekosnev");
          inputCol.appendChild(input);
          row.appendChild(inputCol);

          // Number of cards dropdown list
          var dropdownCol = document.createElement("td");
          var dropdown = document.createElement("select");
          dropdown.name = "cardsDropdown";
          dropdown.classList.add("szamok");

          // Set default value based on slider value
          var defaultOptionValue;
          switch (parseInt(slider.value)) {
            case 3:
              defaultOptionValue = 6;
              break;
            case 4:
              defaultOptionValue = 4;
              break;
            case 5:
              defaultOptionValue = 3;
              break;
            case 6:
              defaultOptionValue = 3;
              break;
          }

          // Add options 1 to 6
          for (var j = 1; j <= 6; j++) {
            var option = document.createElement("option");
            option.text = j;
            option.value = j;
            if (j === defaultOptionValue) {
              option.selected = true; // Set the default selected option
            }
            dropdown.add(option);
          }

          dropdownCol.appendChild(dropdown);
          row.appendChild(dropdownCol);

          // Playing as You radio button
          var radioCol = document.createElement("td");
          var radio = document.createElement("input");
          radio.type = "radio";
          radio.name = "radioGroup";
          if (i === 1) {
            radio.checked = true;
          }
          radioCol.appendChild(radio);
          row.appendChild(radioCol);

          table.appendChild(row);
        }

        textInputContainer.appendChild(table);

        var submitButton = document.createElement("button");
        submitButton.textContent = "SUBMIT";
        submitButton.id = "submitButton"; // Add an ID for easy access
        submitButton.addEventListener("click", submitData);
        submitButton.classList.add("mainaction"); // Add the "mainaction" class
        textInputContainer.appendChild(submitButton);
      }

      function submitData() {
        var playerData = [];
        var playerData2 = [];
        var totalPlayers = 0; // Variable to store the sum of dropdown values

        var rows = document.querySelectorAll(".row");
        var validSubmission = true;
        var uniqueNames = new Set(); // To track unique names

        rows.forEach(function (row) {
          var playerNameInput = row.querySelector("input[type='text']");
          var playerName = playerNameInput.value;

          // Check if the name is not empty and is unique
          if (playerName.trim() !== "" && !uniqueNames.has(playerName)) {
            uniqueNames.add(playerName);

            var isSelected = row.querySelector("input[type='radio']").checked;
            var selectedNumber = parseInt(
              row.querySelector("select[name='cardsDropdown']").value
            );

            if (isSelected) {
              var playerValue = selectedNumber;
              playerData.push(playerValue);
              var playerValue2 = "You";
              playerData2.push(playerValue2);
              totalPlayers += selectedNumber;
              localStorage.setItem("Youcardcount", selectedNumber);
            } else {
              var playerValue = selectedNumber;
              var playerValue2 = playerName.trim();
              playerData.push(playerValue);
              playerData2.push(playerValue2);
              totalPlayers += selectedNumber;
            }
          } else {
            validSubmission = false;
          }
        });

        // Check if the total sum is less than or equal to 18
        if (validSubmission && totalPlayers <= 18) {
          var submissionString = playerData.join(",");
          var submissionString3 = playerData2.join(",");
          localStorage.setItem("jatekosokkartya", submissionString);
          localStorage.setItem("jatekosok", submissionString3);

          var submissionString2 = playerData2;
          localStorage.setItem("jatekosok2", JSON.stringify(submissionString2));

          var poolCardCount = 18 - totalPlayers;
          localStorage.setItem("Poolcardcount", poolCardCount);
        } else {
          alert(
            "Requirements not met. To see the requirements, click the ? icon."
          );
        }
      }
    </script>
  </body>
</html>
